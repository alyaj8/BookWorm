var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useStripe=useStripe;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=require("react");var _helpers=require("../helpers");var _NativeStripeSdk=_interopRequireDefault(require("../NativeStripeSdk"));var _functions=require("../functions");function useStripe(){var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2.default)(_useState,2),isApplePaySupported=_useState2[0],setApplePaySupported=_useState2[1];(0,_react.useEffect)(function(){function checkApplePaySupport(){var isSupported;return _regenerator.default.async(function checkApplePaySupport$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=_helpers.isiOS;if(!_context.t0){_context.next=5;break;}_context.next=4;return _regenerator.default.awrap(_NativeStripeSdk.default.isApplePaySupported());case 4:_context.t0=_context.sent;case 5:isSupported=_context.t0;setApplePaySupported(isSupported);case 7:case"end":return _context.stop();}}},null,null,null,Promise);}checkApplePaySupport();},[]);var _createPaymentMethod=(0,_react.useCallback)(function _callee(data){var options,_args2=arguments;return _regenerator.default.async(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options=_args2.length>1&&_args2[1]!==undefined?_args2[1]:{};return _context2.abrupt("return",(0,_functions.createPaymentMethod)(data,options));case 2:case"end":return _context2.stop();}}},null,null,null,Promise);},[]);var _createToken=(0,_react.useCallback)(function _callee2(params){return _regenerator.default.async(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",(0,_functions.createToken)(params));case 1:case"end":return _context3.stop();}}},null,null,null,Promise);},[]);var _retrievePaymentIntent=(0,_react.useCallback)(function _callee3(clientSecret){return _regenerator.default.async(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",(0,_functions.retrievePaymentIntent)(clientSecret));case 1:case"end":return _context4.stop();}}},null,null,null,Promise);},[]);var _retrieveSetupIntent=(0,_react.useCallback)(function _callee4(clientSecret){return _regenerator.default.async(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",(0,_functions.retrieveSetupIntent)(clientSecret));case 1:case"end":return _context5.stop();}}},null,null,null,Promise);},[]);var _confirmPayment=(0,_react.useCallback)(function _callee5(paymentIntentClientSecret,data){var options,_args6=arguments;return _regenerator.default.async(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:options=_args6.length>2&&_args6[2]!==undefined?_args6[2]:{};return _context6.abrupt("return",(0,_functions.confirmPayment)(paymentIntentClientSecret,data,options));case 2:case"end":return _context6.stop();}}},null,null,null,Promise);},[]);var _presentApplePay=(0,_react.useCallback)(function _callee6(params){return _regenerator.default.async(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",(0,_functions.presentApplePay)(params));case 1:case"end":return _context7.stop();}}},null,null,null,Promise);},[]);var _updateApplePaySummaryItems=(0,_react.useCallback)(function _callee7(summaryItems){var errorAddressFields,_args8=arguments;return _regenerator.default.async(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:errorAddressFields=_args8.length>1&&_args8[1]!==undefined?_args8[1]:[];return _context8.abrupt("return",(0,_functions.updateApplePaySummaryItems)(summaryItems,errorAddressFields));case 2:case"end":return _context8.stop();}}},null,null,null,Promise);},[]);var _confirmApplePayPayment=(0,_react.useCallback)(function _callee8(clientSecret){return _regenerator.default.async(function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",(0,_functions.confirmApplePayPayment)(clientSecret));case 1:case"end":return _context9.stop();}}},null,null,null,Promise);},[]);var _handleNextAction=(0,_react.useCallback)(function _callee9(paymentIntentClientSecret){return _regenerator.default.async(function _callee9$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",(0,_functions.handleNextAction)(paymentIntentClientSecret));case 1:case"end":return _context10.stop();}}},null,null,null,Promise);},[]);var _confirmSetupIntent=(0,_react.useCallback)(function _callee10(paymentIntentClientSecret,data){var options,_args11=arguments;return _regenerator.default.async(function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:options=_args11.length>2&&_args11[2]!==undefined?_args11[2]:{};return _context11.abrupt("return",(0,_functions.confirmSetupIntent)(paymentIntentClientSecret,data,options));case 2:case"end":return _context11.stop();}}},null,null,null,Promise);},[]);var _createTokenForCVCUpdate=(0,_react.useCallback)(function _callee11(cvc){return _regenerator.default.async(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:return _context12.abrupt("return",(0,_functions.createTokenForCVCUpdate)(cvc));case 1:case"end":return _context12.stop();}}},null,null,null,Promise);},[]);var _initPaymentSheet=(0,_react.useCallback)(function _callee12(params){return _regenerator.default.async(function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:return _context13.abrupt("return",(0,_functions.initPaymentSheet)(params));case 1:case"end":return _context13.stop();}}},null,null,null,Promise);},[]);var _presentPaymentSheet=(0,_react.useCallback)(function _callee13(){return _regenerator.default.async(function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:return _context14.abrupt("return",(0,_functions.presentPaymentSheet)());case 1:case"end":return _context14.stop();}}},null,null,null,Promise);},[]);var _confirmPaymentSheetPayment=(0,_react.useCallback)(function _callee14(){return _regenerator.default.async(function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:return _context15.abrupt("return",(0,_functions.confirmPaymentSheetPayment)());case 1:case"end":return _context15.stop();}}},null,null,null,Promise);},[]);var _handleURLCallback=(0,_react.useCallback)(function _callee15(url){return _regenerator.default.async(function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:return _context16.abrupt("return",(0,_functions.handleURLCallback)(url));case 1:case"end":return _context16.stop();}}},null,null,null,Promise);},[]);var _isGooglePaySupported=(0,_react.useCallback)(function _callee16(params){return _regenerator.default.async(function _callee16$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:return _context17.abrupt("return",(0,_functions.isGooglePaySupported)(params));case 1:case"end":return _context17.stop();}}},null,null,null,Promise);},[]);var _initGooglePay=(0,_react.useCallback)(function _callee17(params){return _regenerator.default.async(function _callee17$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:return _context18.abrupt("return",(0,_functions.initGooglePay)(params));case 1:case"end":return _context18.stop();}}},null,null,null,Promise);},[]);var _presentGooglePay=(0,_react.useCallback)(function _callee18(params){return _regenerator.default.async(function _callee18$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:return _context19.abrupt("return",(0,_functions.presentGooglePay)(params));case 1:case"end":return _context19.stop();}}},null,null,null,Promise);},[]);var _createGooglePayPaymentMethod=(0,_react.useCallback)(function _callee19(params){return _regenerator.default.async(function _callee19$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:return _context20.abrupt("return",(0,_functions.createGooglePayPaymentMethod)(params));case 1:case"end":return _context20.stop();}}},null,null,null,Promise);},[]);var _openApplePaySetup=(0,_react.useCallback)(function _callee20(){return _regenerator.default.async(function _callee20$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:return _context21.abrupt("return",(0,_functions.openApplePaySetup)());case 1:case"end":return _context21.stop();}}},null,null,null,Promise);},[]);var _collectBankAccountForPayment=(0,_react.useCallback)(function _callee21(clientSecret,params){return _regenerator.default.async(function _callee21$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:return _context22.abrupt("return",(0,_functions.collectBankAccountForPayment)(clientSecret,params));case 1:case"end":return _context22.stop();}}},null,null,null,Promise);},[]);var _collectBankAccountForSetup=(0,_react.useCallback)(function _callee22(clientSecret,params){return _regenerator.default.async(function _callee22$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:return _context23.abrupt("return",(0,_functions.collectBankAccountForSetup)(clientSecret,params));case 1:case"end":return _context23.stop();}}},null,null,null,Promise);},[]);var _verifyMicrodepositsForPayment=(0,_react.useCallback)(function _callee23(clientSecret,params){return _regenerator.default.async(function _callee23$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:return _context24.abrupt("return",(0,_functions.verifyMicrodepositsForPayment)(clientSecret,params));case 1:case"end":return _context24.stop();}}},null,null,null,Promise);},[]);var _verifyMicrodepositsForSetup=(0,_react.useCallback)(function _callee24(clientSecret,params){return _regenerator.default.async(function _callee24$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:return _context25.abrupt("return",(0,_functions.verifyMicrodepositsForSetup)(clientSecret,params));case 1:case"end":return _context25.stop();}}},null,null,null,Promise);},[]);return{retrievePaymentIntent:_retrievePaymentIntent,retrieveSetupIntent:_retrieveSetupIntent,confirmPayment:_confirmPayment,createPaymentMethod:_createPaymentMethod,handleNextAction:_handleNextAction,isApplePaySupported:isApplePaySupported,presentApplePay:_presentApplePay,confirmApplePayPayment:_confirmApplePayPayment,confirmSetupIntent:_confirmSetupIntent,createTokenForCVCUpdate:_createTokenForCVCUpdate,updateApplePaySummaryItems:_updateApplePaySummaryItems,handleURLCallback:_handleURLCallback,confirmPaymentSheetPayment:_confirmPaymentSheetPayment,presentPaymentSheet:_presentPaymentSheet,initPaymentSheet:_initPaymentSheet,createToken:_createToken,isGooglePaySupported:_isGooglePaySupported,initGooglePay:_initGooglePay,presentGooglePay:_presentGooglePay,createGooglePayPaymentMethod:_createGooglePayPaymentMethod,openApplePaySetup:_openApplePaySetup,collectBankAccountForPayment:_collectBankAccountForPayment,collectBankAccountForSetup:_collectBankAccountForSetup,verifyMicrodepositsForPayment:_verifyMicrodepositsForPayment,verifyMicrodepositsForSetup:_verifyMicrodepositsForSetup};}
//# sourceMappingURL=useStripe.js.map